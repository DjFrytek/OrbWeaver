<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ball Drifter</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
</head>
<body>
    <div class="container">
        <aside class="left-panel">
            <!-- Login View -->
            <div id="login-view">
                <h2>Login / Register</h2>
                <div id="login-container">
                    <input type="email" id="email" placeholder="Email"><br>
                    <input type="password" id="password" placeholder="Password"><br>
                    <button id="signInButton">Login</button>
                    <button id="signUpButton">Register</button>
                </div>
                <div id="auth-message"></div>
            </div>

            <!-- Profile View (Hidden by default) -->
            <div id="profile-view" class="hidden">
                <h2>Profile</h2>
                <div id="profile-content">
                    <div id="username-display">
                        <!-- Username will be displayed here -->
                    </div>
                    <button id="profileSettingsButton" class="panel-button">Profile Settings</button><br>
                    <button id="gameSettingsButton" class="panel-button">Game Settings</button><br>
                </div>
                <button id="logoutButton">Logout</button>
            </div>

            <!-- Profile Settings View (Hidden by default) -->
            <div id="profile-settings-view" class="hidden">
                <h2>Profile Settings</h2>
                <div id="nickname-container">
                    <label for="nickname">Set Nickname:</label><br>
                    <input type="text" id="nickname" placeholder="Nickname">
                    <button id="setNicknameButton">Set Nickname</button><br>
                </div>
                <button id="profileSettingsGoBackButton" class="panel-button">Go Back</button>
            </div>

            <!-- Game Settings View (Hidden by default) -->
            <div id="game-settings-view" class="hidden">
                <h2>Game Settings</h2>
                <!-- Add game settings here -->
                <button id="gameSettingsGoBackButton" class="panel-button">Go Back</button>
            </div>

            <!-- Options View (Example, Hidden by default) -->
            <div id="options-view" class="hidden">
                <h2>Options</h2>
                <!-- Add options here -->
            </div>
        </aside>

        <main class="game-area">
            <div id="canvas-container">
                <div id="game-canvas"></div>
                <div id="dark-overlay"></div>
                <!-- Overlays will be placed here -->
                <div id="overlay-container">
                    <!-- Menu, win screen, etc. -->
                    <div id="level-finish-overlay" class="hidden">
                        <h2>Level Complete!</h2>
                        <p>Time: <span id="level-finish-time"></span></p>
                        <button id="watch-replay-button" class="playerVisible">Watch Replay</button>
                        <button id="restart-level-button" class="playerVisible">Restart Level</button>
                        <button id="watch-replay-again-button" class="replayVisible">Watch Again</button>
                        <button id="quit-replay-button" class="replayVisible">Quit replay</button>
                    </div>
                </div>
            </div>
        </main>

        <aside class="right-panel">
            <!-- Other Stuff -->
            <div id="user-replay-container">
                <h3>Your Replay</h3>
                <table id="user-replay-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Time</th>
                            <th>Nickname</th>
                            <th>Replay</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="4"><div id="user-replay-info"></div></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <h3>Ranking</h3>
            <div id="replay-table-container">
                <table id="replay-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Time</th>
                            <th>Nickname</th>
                            <th>Replay</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
            <div class="level-buttons">
                <button onclick="window.startLevel('level1')">Level 1</button>
                <button onclick="window.startLevel('level2')">Level 2</button>
                <button onclick="window.startLevel('level3')">Level 3</button>
                <button onclick="window.startLevel('level4')">Level 4</button>
                <button onclick="window.startLevel('level5')">Level 5</button>
                <button onclick="window.startLevel('level6')">Level 6</button>
            </div>
        </aside>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="js/physics.js"></script>
    <script src="js/player.js"></script>
    <script src="js/level.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/app.js"></script>
    <script src="js/keep_alive.js"></script>
</body>
</html>
